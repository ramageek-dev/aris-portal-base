function GTFWTable(f,c){var a={header:"Column1, Column2",addHeader:null,addFooter:null,colWidth:"100,100",colAlign:"left,left",colTypes:"ro,ro",paging:!0,frameless:!0,pagingMaxRow:"20",colSorting:null,urlData:null,bigDataRender:!1,expandTree:!1,editTree:!1,groupBy:null,groupByMask:null,beforeCall:null,afterCall:null,pagingCall:null,emptyLabel:"Data Tidak Ditemukan",loadingLabel:"Loading Data...",colspanEnable:!1,rowspanEnable:!1,debug:!1};if("dhtmlx"==f)var b=new dhtmlXGridObject(c);a.createTable=
function(){b.setImagePath("images/dhtmlxGrid/imgs/");b.setHeader(a.header);if(null!=a.addHeader)if($.isArray(a.addHeader))for(var d=a.addHeader.length,e=0;e<d;e++)b.attachHeader(a.addHeader[e]);else b.attachHeader(a.addHeader);if(null!=a.addFooter)if($.isArray(a.addFooter))for(d=a.addFooter.length,e=0;e<d;e++)b.attachFooter(a.addFooter[e]);else b.attachFooter(a.addFooter);b.setInitWidths(a.colWidth);b.setColAlign(a.colAlign);b.setColTypes(a.colTypes);null!=a.colSorting&&b.setColSorting(a.colSorting);
b.setSkin("dhx_sia_custom");d="paging_"+c;document.getElementById("pagingArea")?$("#pagingArea").attr("id",d):$(".pageBar").prepend('<div class="pageNav" style="margin: -8px 0 0 -10px;"><div id="'+d+'"></div></div>');b.enablePaging(a.paging,a.pagingMaxRow,null,d,!0,"recinfoArea");b.enableMultiline(!0);a.frameless&&(b.enableAutoWidth(!0),b.enableAutoHeight(!0),b.setSizes());b._pgn_custom=function(d,e,f){var g=b.getRowsNum();e=0<g?e+1:e;var k=g/a.pagingMaxRow,k=Math.ceil(k);b._pgn_parentObj.innerHTML=
1<k?1==d?'<div>&lt;&lt;</div><div>&lt;</div><div class="pageInfo"><b>'+e+"</b>-<b>"+f+"</b> dari <b>"+g+'</b></div><a id="next_page">&gt;</a><a id="last_page">&gt;&gt;</a>':d!=k?'<a id="first_page">&lt;&lt;</a><a id="prev_page">&lt;</a><div class="pageInfo"><b>'+e+"</b>-<b>"+f+"</b> dari <b>"+g+'</b></div><a id="next_page">&gt;</a><a id="last_page">&gt;&gt;</a>':'<a id="first_page">&lt;&lt;</a><a id="prev_page">&lt;</a><div class="pageInfo"><b>'+e+"</b>-<b>"+f+"</b> dari <b>"+g+"</b></div><div>&gt;</div><div>&gt;&gt;</div>":
'<div>&lt;&lt;</div><div>&lt;</div><div class="pageInfo"><b>'+e+"</b>-<b>"+f+"</b> dari <b>"+g+"</b></div><div>&gt;</div><div>&gt;&gt;</div>";applyPage=function(){a.frameless&&($("#"+c).css("height","auto"),$(".objbox").css("height","auto"));ba.removeButton();Behaviour.apply()};$("#first_page").click(function(){b.changePage(1);applyPage();a.pagingCall&&a.pagingCall()});$("#prev_page").click(function(){b.changePageRelative(-1);applyPage();a.pagingCall&&a.pagingCall()});$("#next_page").click(function(){b.changePageRelative(1);
applyPage();a.pagingCall&&a.pagingCall()});$("#last_page").click(function(){b.changePage(k);applyPage();a.pagingCall&&a.pagingCall()})};b.setPagingSkin("custom");b.attachEvent("onXLS",function(){$("#empty_data_"+c).hide();$("#load_notif_"+c).show();a.beforeCall&&a.beforeCall()});b.attachEvent("onXLE",function(){$("#load_notif_"+c).hide();var d=b.getRowsNum();a.frameless&&(0==d?$("#empty_data_"+c).show():$("#empty_data_"+c).hide(),$("#"+c).css("height","auto"),$(".objbox").css("height","auto"));a.expandTree&&
b.expandAll();b.enableTreeCellEdit(a.editTree);a.afterCall&&a.afterCall();ba.removeButton();Behaviour.apply();a.debug||console.clear()});b.attachEvent("onMouseOver",function(){return!1});b.submitOnlyChanged(!1);b.enableCollSpan(a.colspanEnable);b.init();a.bigDataRender&&b.enableSmartRendering(!0);applyPage=function(){a.groupBy&&b.groupBy(a.groupBy,a.groupByMask);ba.removeButton();Behaviour.apply();a.frameless&&($("#"+c).css("height","auto"),$(".objbox").css("height","auto"))};a.frameless&&(d=$("#"+
c).width(),$("#"+c).after('<div id="empty_data_'+c+'" style="display:none;" class="empty_notif"><table class="table-common" width="'+d+'"><td align="center"><em>--'+a.emptyLabel+"--</em></td></table></div>"));a.urlData?($("#"+c).after('<div id="load_notif_'+c+'" class="load_notif" style="display:none;color:red;padding:4px;">'+a.loadingLabel+"</div>"),b.load(a.urlData,applyPage,"json")):a.frameless&&$("#empty_data_"+c).show()};a.filterBy=function(d,e,l){if($.isArray(e)&&$.isArray(d)){l=d.length;for(var h=
0;h<l;h++)0==h?b.filterBy(d[h],e[h]):b.filterBy(d[h],e[h],!0)}else b.filterBy(d,e,l);b.resetCounter(0);0==b.getRowsNum()?$("#empty_data_"+c).show():$("#empty_data_"+c).hide();a.groupBy&&b.groupBy(a.groupBy,a.groupByMask);ba.removeButton();Behaviour.apply()};a.currentPage=function(){var a=[],e=b.rowsBufferOutSize;a[0]=b.currentPage;a[1]=e*a[0]-e+1;a[2]=e*a[0];a[3]=e;return a};a.resetCounter=function(a){b.resetCounter(a)};a.parse=function(a,e,c){b.parse(a,e,c)};a.addRow=function(a,e){$("#empty_data_"+
c).length&&$("#empty_data_"+c).hide();b.addRow(a,e)};a.deleteRow=function(a){b.deleteRow(a);0==b.getRowsNum()&&$("#empty_data_"+c).show()};a.searchTable=function(d){b.clearAll();applyPage=function(){a.groupBy&&b.groupBy(a.groupBy,a.groupByMask);ba.removeButton();Behaviour.apply();a.frameless&&($("#"+c).css("height","auto"),$(".objbox").css("height","auto"))};b.load(a.urlData+"&cari="+d,applyPage,"json")};a.prepare=function(){b.parentFormOnSubmit()};a.getSubmitRowId=function(){return b.getAllItemIds()};
a.makeSearch=function(a,e){b.makeSearch(a,e)};a.findCell=function(a,e,c){b.findCell(a,e,c)};a.countRow=function(){return b.getRowsNum()};a.hideColumn=function(a){if($.isArray(a))for(var e=a.length,c=0;c<e;c++)b.setColumnHidden(a[c],!0);else b.setColumnHidden(a,!0)};a.setColspan=function(a,e,c){b.setColspan(a,e,c)};a.setRowspan=function(a,e,c){b.setRowspan(a,e,c)};a.forEachRow=function(a){b.forEachRow(a);ba.removeButton();Behaviour.apply()};a.cellById=function(a,c){return b.cellById(a,c).getValue()};
a.setCellValue=function(a,c,f){b.cellById(a,c).setValue(f)};a.insertColumn=function(a,c){if($.isArray(a)){for(var f=a.length,h=0;h<f;h++)b.insertColumn(a[h][0],a[h][1],a[h][2],a[h][3]);c&&c()}};a.expandAll=function(){b.expandAll()};a.filterTreeBy=function(a,c,f){b.filterTreeBy(a,c,f)};a.setFilterLevel=function(a){b.setFiltrationLevel(a)};a.disableTreeEdit=function(){b.enableTreeCellEdit(!1)};return a}
function showNotif(f,c,a){a=void 0!=a&&""!=a?a:"msgbox";c=void 0!=c&&""!=c?c:"notebox-alert";$("#"+a).html(f);$("#"+a).addClass(c).show()}
function parseData(f,c,a,b){a=void 0!=a?a:!1;b=void 0!=b?b:"subcontent-element";f=JSON.parse(f.responseText);if(f.gtfwResult)if(dataJson=f.gtfwResult,"201"==dataJson.status||"419"==dataJson.status){if(void 0==c||""==c)return a&&showNotif(dataJson.message,dataJson.data),dataJson.data;GtfwAjax.replaceContentWithUrl(b,c+"&ascomponent=1")}else a&&showNotif(dataJson.message,dataJson.data);else a&&showNotif("Invalid Format","notebox-warning")}
function createComboRest(f,c,a,b,d,e){c='<select id="'+c+'" name="'+c+'" '+(void 0!=e?e:"")+">";d=void 0!=d&&""!=d&&d?'<option value="all">-- SEMUA -- </option>':'<option value="">-- PILIH --</option>';if(void 0!=a){a=parseData(a);for(var l in a)selected=void 0!=b&&""!=b&&a[l].id==b?'selected="selected"':"",d+='<option value="'+a[l].id+'" '+selected+">"+a[l].name+"</option>"}c+=d+"</select>";$("#"+f).html(c)}
function selectComboRest(f,c){for(var a=document.getElementById(f),b=0;b<a.options.length;b++)if(a.options[b].value==c){a.options[b].selected=!0;break}}function getUrlValues(f){var c=f.split("?"),c=c[1];f={};if(c.length)for(var a=c.split("&"),b=0,d=a.length;b<d;b++)c=a[b].split("="),f[c[0]]=window.decodeURIComponent(c[1]);return f}
function confirmDelete(f,c,a){createContent=function(){var b=getUrlValues(f),c=document.createElement("script");if(""==a||void 0==a)c.type="text/javascript",c.text='$(document).ready(function(){resultRest = function(data){parseData(data,"",true);find();popupClose();}})',a="resultRest";var d=[];d[0]=c;if(void 0!=b.id&&""!=b.id||$("input[name='id[]']").length){var c=void 0!=b.label?b.label:"",r=void 0!=b.message?b.label:"",g=b.urlDelete.split("-"),k=g[0].split("|"),m="",n="",p="";""!=g[1]&&(m=g[1].split("|"));
""!=g[2]&&(n=g[2].split("|"));if(m.length&&n.length)for(g=0;g<m.length;g++)p+="&"+m[g]+"="+n[g];m=f.split("?")[0]+"?mod="+k[0]+"&sub="+k[1]+"&act="+k[2]+"&typ="+k[3]+p;k="rest"==k[3]?"call_"+a+" typ_rest":"";d[1]='<div id="msgbox_pop" style="display:none" onclick="$(this).fadeOut();"></div>';d[1]+='<form name="form_distribusi" id="form_distribusi" action="'+m+'" method="POST" class="xhr_form std_form '+k+'"><div class="dialogbox" id="dialog_delete"><img src="images/alert.gif" alt="" /><h2>Menghapus '+
c+"</h2><p>Anda akan menghapus "+c+" dengan nama / kode:<br />";if(void 0!=b.id&&""!=b.id)d[1]+='<div style="margin-bottom:10px;"><input type="hidden" value="'+b.id+'" id="idDelete" name="idDelete" /><b>'+b.dataName+"</b></div>";else if($("input[name='id[]']").length){var q=0;d[1]+='<div id="multiple" style="margin-bottom:10px;">';$("input[name='id[]']").each(function(){if(this.checked){var a=this.value,b=$("input[name='name["+a+"]']").val();d[1]+='<input type="hidden" value="'+a+'" id="idDelete" name="idDelete[]"/><b>'+
(q+1)+". "+b+"</b><br>";q++}});d[1]+="</div>";if(0==q)return d[1]='<div class="dialogbox" id="dialog_delete" style="width:350px;"><img style="margin-top:15px;" src="images/alert.gif" alt="" /><p>Anda Harus Memilih Salah Satu Data Untuk Dihapus.<br/>Silakan Kembali.</p><ul class="taskdialog"><li><a onclick="popupClose();" title="Batal">Kembali</a><p>Batal menghapus dan menutup dialog ini.</p></li></ul></div>',d}d[1]+='<div style="padding:5px 0px 5px 35px; margin-bottom:10px; background:url(images/alert.gif) left center no-repeat; color:red; font-weight:bold;">Apakah anda yakin? '+
r+'</div></p><ul class="taskdialog"><li><input type="submit" name="btnDel" class="button" value="Hapus" /><p>Data yang sudah dihapus tidak dapat dikembalikan lagi.</p></li><li><a onclick="popupClose();" title="Batal">Batal</a><p>Batal menghapus dan menutup dialog ini.</p></li></ul></div></form>';return d}return'<div class="dialogbox" id="dialog_delete" style="width:350px;"><img style="margin-top:15px;" src="images/alert.gif" alt="" /><p>Anda Harus Memilih Salah Satu Data Untuk Dihapus.<br/>Silakan Kembali.</p><ul class="taskdialog"><li><a onclick="popupClose();" title="Batal">Kembali</a><p>Batal menghapus dan menutup dialog ini.</p></li></ul></div>'};
showPopup("pop","Konfirmasi Hapus "+c,500,500);var b=$("div[id*='popup-subcontent']");if(0<b.length){var d=createContent();1==b.length&&""==b.html()?(c=b.attr("id"),document.getElementById(c).appendChild(d[0]),b.append(d[1]),ba.removeButton(),Behaviour.apply()):1<b.length&&b.each(function(){if(""==this.html()){var a=b.attr("id");document.getElementById(a).appendChild(d[0]);b.append(d[1]);ba.removeButton();Behaviour.apply()}})}};
